<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How to calculate Activity/Migration Traffic Rates • birdscanR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How to calculate Activity/Migration Traffic Rates">
<meta property="og:description" content="Which functions do I need to call to get out migration traffic rates from a Birdscan database? This vignette describes the main workflow to do so.
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">birdscanR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/mtrCalculationWorkflow.html">How to calculate Activity/Migration Traffic Rates</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/BirdScanCommunity/birdscanR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>How to calculate Activity/Migration Traffic
Rates</h1>
                        <h4 data-toc-skip class="author">Birgen Haest,
<a href="mailto:birgen.haest@vogelwarte.ch" class="email">birgen.haest@vogelwarte.ch</a>; Fabian Hertner, <a href="mailto:fabian.hertner@swiss-birdradar.com" class="email">fabian.hertner@swiss-birdradar.com</a>
</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/BirdScanCommunity/birdscanR/blob/main/vignettes/mtrCalculationWorkflow.Rmd" class="external-link"><code>vignettes/mtrCalculationWorkflow.Rmd</code></a></small>
      <div class="hidden name"><code>mtrCalculationWorkflow.Rmd</code></div>

    </div>

    
    
<hr>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>This vignette provides an example of the basic workflow to go from an
‘MS-SQL’ or ‘PostgreSQL’ Birdscan database to Activity Rates, or
Migration Traffic Rates. The workflow includes 3 steps:</p>
<ol style="list-style-type: decimal">
<li><p>Extract the relevant data from the SQL database.</p></li>
<li><p>Filter the data to your target output period, class, and other
preferences.</p></li>
<li><p>Calculate the activity or migration traffic rates</p></li>
</ol>
<hr>
</div>
<div class="section level2">
<h2 id="before-we-get-started">Before we get started<a class="anchor" aria-label="anchor" href="#before-we-get-started"></a>
</h2>
<p>We first load the birdscanR package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/BirdScanCommunity/birdscanR" class="external-link">birdscanR</a></span><span class="op">)</span></span></code></pre></div>
<p>Then we set our input:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set main output directory</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">mainOutputDir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"."</span>, <span class="st">"results"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set server and database settings</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">dbServer</span> <span class="op">&lt;-</span> <span class="st">"MACHINE\\SERVERNAME"</span> <span class="co"># Set the name of your SQL server</span></span>
<span><span class="va">dbName</span> <span class="op">&lt;-</span> <span class="st">"db_Name"</span> <span class="co"># Set the name of your database</span></span>
<span><span class="va">dbDriverChar</span> <span class="op">&lt;-</span> <span class="st">"SQL Server"</span> <span class="co"># Set either "SQL Server" or "PostgreSQL"</span></span>
<span></span>
<span><span class="co"># Set timezone used by the radar/database</span></span>
<span><span class="co"># Use "Etc/GMT0" (UTC) as radarTimeZone for birdscan v1.6</span></span>
<span><span class="co"># and greater as all times are in UTC as of this software version.</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">radarTimeZone</span> <span class="op">&lt;-</span> <span class="st">"Etc/GMT0"</span></span>
<span></span>
<span><span class="co"># Set target timezone for the radar/dataset</span></span>
<span><span class="co"># Example: targetTimeZone = "Etc/GMT-1" (Etc/GMT-1 equals UTC+1)</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">targetTimeZone</span> <span class="op">&lt;-</span> <span class="st">"Etc/GMT0"</span></span>
<span></span>
<span><span class="co"># Set list of Rf features you also want to extract</span></span>
<span><span class="co"># Vector with RF features to extract. Feature IDs can be found in the</span></span>
<span><span class="co"># rffeatures table in the sql database.</span></span>
<span><span class="co"># Example: Get wing beat frequency and credibility: c(167, 168)</span></span>
<span><span class="co"># Set to NULL to not extract any.</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">listOfRfFeaturesToExtract</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="co"># Geographic location of the radar measurements - c(Latitude, Longitude)</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">siteLocation</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">47.494427</span>, <span class="fl">8.716432</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set type of twilight to use for day/night decision, i.e., "sun" or "civil"</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">sunOrCivil</span> <span class="op">&lt;-</span> <span class="st">"civil"</span></span>
<span></span>
<span><span class="co"># Filter settings</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="co"># Set desired pulseLength modes</span></span>
<span><span class="va">pulseLengthSelection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set desired rotation modes (multiple simultaneous selections possible)</span></span>
<span><span class="co"># options: 1 (rotation), 0 (nonrotation)</span></span>
<span><span class="va">rotationSelection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set classes to use in the analysis</span></span>
<span><span class="co"># Example: classSelection = c("passerine_type", "wader_type", "swift_type",</span></span>
<span><span class="co">#                             "large_bird", "unid_bird", "bird_flock",</span></span>
<span><span class="co">#                             "insect", "nonbio", "precipitation")</span></span>
<span><span class="va">classSelection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"insect"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the classification propability cutoff (between 0 and 1) - only objects</span></span>
<span><span class="co"># for which the chosen label also has a classification probability &gt; than the</span></span>
<span><span class="co"># cutoff are retained; Set to NULL to not subset according to probability.</span></span>
<span><span class="va">classProbCutoff</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="co"># Set the altitude range (in meters agl)</span></span>
<span><span class="va">altitudeRange</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">1000</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the time range for echodata (in the targetTimeZone)</span></span>
<span><span class="co"># use format "yyyy-MM-dd hh:mm"</span></span>
<span><span class="va">timeRangeData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-15 00:00"</span>, <span class="st">"2021-01-31 00:00"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set whether to get the manual blind time from:</span></span>
<span><span class="co"># "mandb": the db file;</span></span>
<span><span class="co"># "csv"  : a separate csv file</span></span>
<span><span class="va">manBlindSource</span> <span class="op">&lt;-</span> <span class="st">"csv"</span></span>
<span></span>
<span><span class="co"># Set paths to manual blind times file, if manBlindSource == "csv"</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">manBlindSource</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"csv"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">manblindFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"manualBlindTimes.csv"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Set whether to use the echoValidator - If set to TRUE, echoes labelled</span></span>
<span><span class="co"># by the echo validator as “non-bio scatterer” will be excluded.</span></span>
<span><span class="va">useEchoValidator</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span></span>
<span><span class="co"># MTR calculation settings</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="co"># Set whether to save the blind times to file</span></span>
<span><span class="va">saveBlindTimes</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span></span>
<span><span class="co"># Set altitude Range and Bin Size for the MTR calculations</span></span>
<span><span class="va">altitudeRange.mtr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">1025</span><span class="op">)</span></span>
<span><span class="va">altitudeBinSize</span> <span class="op">&lt;-</span> <span class="fl">50</span></span>
<span></span>
<span><span class="co"># time range for timeBins (targetTimeZone) - format: "yyyy-MM-dd hh:mm"</span></span>
<span><span class="va">timeRangesTimeBins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-15 00:00"</span>, <span class="st">"2021-01-31 00:00"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># timeBin size in seconds</span></span>
<span><span class="va">timeBinduration_sec</span> <span class="op">&lt;-</span> <span class="fl">3600</span></span>
<span></span>
<span><span class="co"># set blindtime types which should not be treated as blindtime but MTR = 0</span></span>
<span><span class="va">blindTimeAsMtrZero</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rain"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># cutoff for proportional observation times: Ignore TimeBins where</span></span>
<span><span class="co"># "observationTime/timeBinDuration &lt; propObsTimeCutoff"</span></span>
<span><span class="co"># in 'computeMTR' only used if parameter 'computePerDayNight' is set to</span></span>
<span><span class="co"># 'TRUE' and timeBins are shorter than day/night. In this case timeBins</span></span>
<span><span class="co"># are combined by day/night and only time bins with a proportional</span></span>
<span><span class="co"># observation time greater than the cutoff will be used to compute the</span></span>
<span><span class="co"># day/night MTR and spread.</span></span>
<span><span class="co"># set value from 0-1</span></span>
<span><span class="va">propObsTimeCutoff</span> <span class="op">&lt;-</span> <span class="fl">0.2</span></span>
<span></span>
<span><span class="co"># Set classes for which you want the MTR</span></span>
<span><span class="co"># Example: classSelection = c("passerine_type", "wader_type", "large_bird")</span></span>
<span><span class="co"># classSelection = c("passerine_type", "wader_type", "swift_type",</span></span>
<span><span class="co">#                    "large_bird", "unid_bird", "bird_flock",</span></span>
<span><span class="co">#                    "insect", "nonbio", "precipitation")</span></span>
<span><span class="va">classSelection.mtr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"insect"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set whether to compute MTR per timebin or per day/night</span></span>
<span><span class="co"># TRUE: MTR is computed per day and night;</span></span>
<span><span class="co"># FALSE: MTR is computed for each time bin</span></span>
<span><span class="va">computePerDayNight</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span></span>
<span><span class="co"># Set whether to save the MTR to file</span></span>
<span><span class="va">saveMTR2File</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="extract-the-relevant-data-from-the-sql-database">Extract the relevant data from the SQL database<a class="anchor" aria-label="anchor" href="#extract-the-relevant-data-from-the-sql-database"></a>
</h2>
<p>Extracting the data that is need for MTR calculations, can be done
with the <code><a href="../reference/extractDbData.html">extractDbData()</a></code> function. This function will
connect to your SQL database and read all the necessary data to memory.
If requested, it will also write it to an .rds file in the output
directory you chose. The file is automatically named to:
<code>[yourDbName]_DataExtract.rds</code>, and written to the main
output directory you defined in the input settings.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print progress message</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Extracting data from "</span>, <span class="va">dbName</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get data</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">dbData</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extractDbData.html">extractDbData</a></span><span class="op">(</span></span>
<span>  dbDriverChar <span class="op">=</span> <span class="va">dbDriverChar</span>,</span>
<span>  dbServer <span class="op">=</span> <span class="va">dbServer</span>,</span>
<span>  dbName <span class="op">=</span> <span class="va">dbName</span>,</span>
<span>  saveDbToFile <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dbDataDir <span class="op">=</span> <span class="va">mainOutputDir</span>,</span>
<span>  radarTimeZone <span class="op">=</span> <span class="va">radarTimeZone</span>,</span>
<span>  targetTimeZone <span class="op">=</span> <span class="va">targetTimeZone</span>,</span>
<span>  listOfRfFeaturesToExtract <span class="op">=</span> <span class="va">listOfRfFeaturesToExtract</span>,</span>
<span>  siteLocation <span class="op">=</span> <span class="va">siteLocation</span>,</span>
<span>  sunOrCivil <span class="op">=</span> <span class="va">sunOrCivil</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print progress message</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Finished extracting data from "</span>, <span class="va">dbName</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="filter-the-extracted-data-to-what-you-are-interested-in">Filter the extracted data to what you are interested in<a class="anchor" aria-label="anchor" href="#filter-the-extracted-data-to-what-you-are-interested-in"></a>
</h2>
<p>Filtering both the protocol and echo data (extracted in the previous
step) can be done in one step with the function
<code><a href="../reference/filterData.html">filterData()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print progress message</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Filtering data from "</span>, <span class="va">dbName</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get current manual blind times</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="co"># CASE: manBlindSource == "csv"</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">manBlindSource</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"csv"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Read manual blindtimes from csv File</span></span>
<span>  <span class="co"># csv contains one row per blindtime and 3 columns</span></span>
<span>  <span class="co"># (start of blindtime, stop of blindtime, type of blindtime)</span></span>
<span>  <span class="co"># times have to be of format 'yyyy-MM-dd hh:mm:ss'</span></span>
<span>  <span class="co"># =======================================================================</span></span>
<span>  <span class="va">cManualBlindTimes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadManualBlindTimes.html">loadManualBlindTimes</a></span><span class="op">(</span></span>
<span>    filePath <span class="op">=</span> <span class="va">manblindFile</span>,</span>
<span>    blindTimesTZ <span class="op">=</span> <span class="va">radarTimeZone</span>,</span>
<span>    targetTZ <span class="op">=</span> <span class="va">targetTimeZone</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="co"># CASE: manBlindSource == "mandb"</span></span>
<span>  <span class="co"># ===========================================================================</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">manBlindSource</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"mandb"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">cManualBlindTimes</span> <span class="op">&lt;-</span> <span class="va">dbData</span><span class="op">$</span><span class="va">manualVisibilityTable</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Filter the data</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">filteredEchoProtocol</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filterData.html">filterData</a></span><span class="op">(</span></span>
<span>  echoData <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">echoData</span>,</span>
<span>  protocolData <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">protocolData</span>,</span>
<span>  pulseTypeSelection <span class="op">=</span> <span class="va">pulseLengthSelection</span>,</span>
<span>  rotationSelection <span class="op">=</span> <span class="va">rotationSelection</span>,</span>
<span>  timeRangeTargetTZ <span class="op">=</span> <span class="va">timeRangeData</span>,</span>
<span>  targetTimeZone <span class="op">=</span> <span class="va">targetTimeZone</span>,</span>
<span>  classSelection <span class="op">=</span> <span class="va">classSelection</span>,</span>
<span>  classProbCutOff <span class="op">=</span> <span class="va">classProbCutoff</span>,</span>
<span>  altitudeRange_AGL <span class="op">=</span> <span class="va">altitudeRange</span>,</span>
<span>  manualBlindTimes <span class="op">=</span> <span class="va">cManualBlindTimes</span>,</span>
<span>  echoValidator <span class="op">=</span> <span class="va">useEchoValidator</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the filtered echo and protocol data to the database data list</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">dbData</span><span class="op">$</span><span class="va">echoData</span> <span class="op">&lt;-</span> <span class="va">filteredEchoProtocol</span><span class="op">$</span><span class="va">echoData</span></span>
<span><span class="va">dbData</span><span class="op">$</span><span class="va">protocolData</span> <span class="op">&lt;-</span> <span class="va">filteredEchoProtocol</span><span class="op">$</span><span class="va">protocolData</span></span>
<span></span>
<span><span class="co"># Save the filtered dataset to a file, including also all filter settings,</span></span>
<span><span class="co"># and the other tables in the original dataset</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="va">dbData</span><span class="op">$</span><span class="va">echoFiltersApplied</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  classProbCutoff <span class="op">=</span> <span class="va">classProbCutoff</span>,</span>
<span>  altitudeRange_AGL <span class="op">=</span> <span class="va">altitudeRange</span>,</span>
<span>  targetTimeZone <span class="op">=</span> <span class="va">targetTimeZone</span>,</span>
<span>  timeRangeEchoData <span class="op">=</span> <span class="va">timeRangeData</span>,</span>
<span>  useEchoValidator <span class="op">=</span> <span class="va">useEchoValidator</span></span>
<span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">classProbCutoff</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">classProbCutoff.char</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">classProbCutoff.char</span> <span class="op">&lt;-</span> <span class="va">classProbCutoff</span></span>
<span><span class="op">}</span></span>
<span><span class="va">outputFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span></span>
<span>  <span class="va">mainOutputDir</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>    <span class="va">dbName</span>, <span class="st">"_filtered_"</span>,</span>
<span>    <span class="st">"cut"</span>, <span class="va">classProbCutoff.char</span>, <span class="st">"_"</span>,</span>
<span>    <span class="st">"altRange"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">altitudeRange</span>, collapse <span class="op">=</span> <span class="st">"to"</span><span class="op">)</span>, <span class="st">"_"</span>,</span>
<span>    <span class="st">"timeRange"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">timeRangeData</span><span class="op">)</span>, <span class="st">"%Y%m%d"</span><span class="op">)</span>,</span>
<span>      collapse <span class="op">=</span> <span class="st">"to"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="st">"_"</span>,</span>
<span>    <span class="st">"echoVal"</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">useEchoValidator</span><span class="op">)</span>,</span>
<span>    <span class="st">".rds"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">dbData</span>, <span class="va">outputFile</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print progress message</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Finished filtering data from "</span>, <span class="va">dbName</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="calculate-the-activity-or-migration-traffic-rates">Calculate the activity or migration traffic rates<a class="anchor" aria-label="anchor" href="#calculate-the-activity-or-migration-traffic-rates"></a>
</h2>
<p>Calculation of the migration traffic rates is done with the function
computeMTR().</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print information message</span></span>
<span><span class="co"># =====================================================================</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">computePerDayNight</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>    <span class="st">"Computing MTR for "</span>, <span class="va">dbName</span>, <span class="st">", using:\n"</span>,</span>
<span>    <span class="st">"Classes: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">classSelection.mtr</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span>, <span class="st">"\n"</span>,</span>
<span>    <span class="st">"For altitudes: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">altitudeRange.mtr</span>, collapse <span class="op">=</span> <span class="st">" to "</span><span class="op">)</span>,</span>
<span>    <span class="st">" in bins of "</span>, <span class="va">altitudeBinSize</span>, <span class="st">"m\n"</span>,</span>
<span>    <span class="st">"on a nightly/daily basis"</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>    <span class="st">"Computing MTR for "</span>, <span class="va">dbName</span>, <span class="st">", using:\n"</span>,</span>
<span>    <span class="st">"Classes: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">classSelection.mtr</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span>, <span class="st">"\n"</span>,</span>
<span>    <span class="st">"For altitudes: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">altitudeRange.mtr</span>, collapse <span class="op">=</span> <span class="st">" to "</span><span class="op">)</span>,</span>
<span>    <span class="st">" in bins of "</span>, <span class="va">altitudeBinSize</span>, <span class="st">"m\n"</span>,</span>
<span>    <span class="st">"Timebins of: "</span>, <span class="va">timeBinduration_sec</span>, <span class="st">" seconds or "</span>,</span>
<span>    <span class="va">timeBinduration_sec</span> <span class="op">/</span> <span class="fl">3600</span>, <span class="st">" hours"</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Calculate the MTR</span></span>
<span><span class="co"># =====================================================================</span></span>
<span><span class="va">mtr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/computeMTR.html">computeMTR</a></span><span class="op">(</span></span>
<span>  dbName <span class="op">=</span> <span class="va">dbName</span>,</span>
<span>  echoes <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">echoData</span>,</span>
<span>  classSelection <span class="op">=</span> <span class="va">classSelection.mtr</span>,</span>
<span>  altitudeRange <span class="op">=</span> <span class="va">altitudeRange.mtr</span>,</span>
<span>  altitudeBinSize <span class="op">=</span> <span class="va">altitudeBinSize</span>,</span>
<span>  timeRange <span class="op">=</span> <span class="va">timeRangesTimeBins</span>,</span>
<span>  timeBinDuration_sec <span class="op">=</span> <span class="va">timeBinduration_sec</span>,</span>
<span>  timeZone <span class="op">=</span> <span class="va">targetTimeZone</span>,</span>
<span>  sunriseSunset <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">sunriseSunset</span>,</span>
<span>  sunOrCivil <span class="op">=</span> <span class="va">sunOrCivil</span>,</span>
<span>  protocolData <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">protocolData</span>,</span>
<span>  visibilityData <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">visibilityData</span>,</span>
<span>  manualBlindTimes <span class="op">=</span> <span class="va">cManualBlindTimes</span>,</span>
<span>  saveBlindTimes <span class="op">=</span> <span class="va">saveBlindTimes</span>,</span>
<span>  blindTimesOutputDir <span class="op">=</span> <span class="va">mainOutputDir</span>,</span>
<span>  blindTimeAsMtrZero <span class="op">=</span> <span class="va">blindTimeAsMtrZero</span>,</span>
<span>  propObsTimeCutoff <span class="op">=</span> <span class="va">propObsTimeCutoff</span>,</span>
<span>  computePerDayNight <span class="op">=</span> <span class="va">computePerDayNight</span>,</span>
<span>  computeAltitudeDistribution <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the mTR to file, if requested</span></span>
<span><span class="co"># =====================================================================</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">saveMTR2File</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">computePerDayNight</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">outputFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="st">"mtr_"</span>, <span class="va">dbName</span>,</span>
<span>      <span class="st">"_alt"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">altitudeRange.mtr</span>,</span>
<span>        collapse <span class="op">=</span> <span class="st">"to"</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="st">"per"</span>, <span class="va">altitudeBinSize</span>, <span class="st">"m_"</span>,</span>
<span>      <span class="st">"time"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">timeRangesTimeBins</span><span class="op">)</span>, <span class="st">"%Y%m%d"</span><span class="op">)</span>,</span>
<span>        collapse <span class="op">=</span> <span class="st">"to"</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="st">"perDayNight_"</span>,</span>
<span>      <span class="st">"cut"</span>, <span class="va">propObsTimeCutoff</span>, <span class="st">".rds"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">outputFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="st">"mtr_"</span>, <span class="va">dbName</span>,</span>
<span>      <span class="st">"_alt"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">altitudeRange.mtr</span>,</span>
<span>        collapse <span class="op">=</span> <span class="st">"to"</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="st">"per"</span>, <span class="va">altitudeBinSize</span>, <span class="st">"m_"</span>,</span>
<span>      <span class="st">"time"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">timeRangesTimeBins</span><span class="op">)</span>, <span class="st">"%Y%m%d"</span><span class="op">)</span>,</span>
<span>        collapse <span class="op">=</span> <span class="st">"to"</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="st">"per"</span>, <span class="va">timeBinduration_sec</span>, <span class="st">"s_"</span>,</span>
<span>      <span class="st">"cut"</span>, <span class="va">propObsTimeCutoff</span>, <span class="st">".rds"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="../reference/saveMTR.html">saveMTR</a></span><span class="op">(</span></span>
<span>    mtr <span class="op">=</span> <span class="va">mtr</span>,</span>
<span>    filepath <span class="op">=</span> <span class="va">mainOutputDir</span>,</span>
<span>    fileName <span class="op">=</span> <span class="va">outputFile</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="create-some-plots-to-explore-the-calculated-activity-migration-traffic-rates">Create some plots to explore the calculated activity / migration
traffic rates<a class="anchor" aria-label="anchor" href="#create-some-plots-to-explore-the-calculated-activity-migration-traffic-rates"></a>
</h2>
<p>The <code>birdscanR</code> package also provides two basic plotting
functions to visualize and explore the MTR results.</p>
<p>The function <code><a href="../reference/plotLongitudinalMTR.html">plotLongitudinalMTR()</a></code> creates a time series
plot of the MTR values (one per altitude bin in the MTR data):</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Make time series plot</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="co"># Set time range for plots (in targetTimeZone) ;</span></span>
<span><span class="co"># A plot is created for each timerange</span></span>
<span><span class="co"># use format "yyyy-MM-dd hh:mm"</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="va">timeRangePlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-15 00:00"</span>, <span class="st">"2021-01-22 00:00"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-23 00:00"</span>, <span class="st">"2021-01-31 00:00"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set output path for plots</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="va">outputDir.plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">mainOutputDir</span>, <span class="st">"Plots"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the class of which the MTR data should be plotted.</span></span>
<span><span class="co"># If not set or set to “allClasses”, MTR of all classes will be plotted.</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="va">plotClass</span> <span class="op">&lt;-</span> <span class="st">"allClasses"</span></span>
<span></span>
<span><span class="co"># Set the maximum value of the y-Scale of the plot to the given value.</span></span>
<span><span class="co"># If negative or not set, the y-Scale is auto-scaled.</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="va">maxMTR.plot</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1</span></span>
<span></span>
<span><span class="co"># Set the propObsTimeCutOff for the plot</span></span>
<span><span class="co"># Time bins with a proportional observation time smaller than</span></span>
<span><span class="co"># propObsTimeCutoff will not be shown in the plot</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="va">propObsTimeCutoff.plot</span> <span class="op">&lt;-</span> <span class="fl">0.2</span></span>
<span></span>
<span><span class="co"># Set if the spread (first and third quartile) should be plotted</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="va">plotSpread</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span></span>
<span><span class="co"># Print message</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Plotting time series of MTR values.."</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make Plot</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="fu"><a href="../reference/plotLongitudinalMTR.html">plotLongitudinalMTR</a></span><span class="op">(</span></span>
<span>  mtr <span class="op">=</span> <span class="va">mtr</span>,</span>
<span>  maxMTR <span class="op">=</span> <span class="va">maxMTR.plot</span>,</span>
<span>  timeRange <span class="op">=</span> <span class="va">timeRangePlot</span>,</span>
<span>  targetTimeZone <span class="op">=</span> <span class="st">"Etc/GMT0"</span>,</span>
<span>  plotClass <span class="op">=</span> <span class="va">plotClass</span>,</span>
<span>  propObsTimeCutoff <span class="op">=</span> <span class="va">propObsTimeCutoff.plot</span>,</span>
<span>  plotSpread <span class="op">=</span> <span class="va">plotSpread</span>,</span>
<span>  filePath <span class="op">=</span> <span class="va">outputDir.plots</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>With the second plotting function <code><a href="../reference/plotExploration.html">plotExploration()</a></code> you
can create a time series plot of the detected objects. Each object is
shown at the respective height (m above ground level) and time:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Make an exploration plot</span></span>
<span><span class="co"># =============================================================================</span></span>
<span><span class="co"># Set  the maximum value of the y-Scale of the plot to the given value.</span></span>
<span><span class="co"># If negative or not set, the y-Scale is auto-scaled.</span></span>
<span><span class="va">maxAltitude.plot</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1</span></span>
<span></span>
<span><span class="co"># Print message</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Plotting exploration.."</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make Plot</span></span>
<span><span class="co"># ===========================================================================</span></span>
<span><span class="fu"><a href="../reference/plotExploration.html">plotExploration</a></span><span class="op">(</span></span>
<span>  echoData <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">echoData</span>,</span>
<span>  timeRange <span class="op">=</span> <span class="va">timeRangePlot</span>,</span>
<span>  targetTimeZone <span class="op">=</span> <span class="st">"Etc/GMT0"</span>,</span>
<span>  manualBlindTimes <span class="op">=</span> <span class="va">cManualBlindTimes</span>,</span>
<span>  visibilityData <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">visibilityData</span>,</span>
<span>  protocolData <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">protocolData</span>,</span>
<span>  sunriseSunset <span class="op">=</span> <span class="va">dbData</span><span class="op">$</span><span class="va">sunriseSunset</span>,</span>
<span>  maxAltitude <span class="op">=</span> <span class="va">maxAltitude.plot</span>,</span>
<span>  filePath <span class="op">=</span> <span class="va">outputDir.plots</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Birgen Haest, Fabian Hertner.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
