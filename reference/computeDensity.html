<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>computeDensity — computeDensity • birdscanR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="computeDensity — computeDensity"><meta property="og:description" content="This function will estimate the density (expressed as #objects / km3)
based on the observations in your database. Note that this function only works
properly on Birdscan MR1 database versions &amp;gt;= 1.7.0.4 as the variable
feature37.speed is required for the density calculation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">birdscanR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/mtrCalculationWorkflow.html">How to calculate Activity/Migration Traffic Rates</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/BirdScanCommunity/birdscanR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>computeDensity</h1>
    <small class="dont-index">Source: <a href="https://github.com/BirdScanCommunity/birdscanR/blob/main/R/computeDensity.R" class="external-link"><code>R/computeDensity.R</code></a></small>
    <div class="hidden name"><code>computeDensity.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function will estimate the density (expressed as #objects / km3)
based on the observations in your database. Note that this function only works
properly on Birdscan MR1 database versions &gt;= 1.7.0.4 as the variable
feature37.speed is required for the density calculation.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">computeDensity</span><span class="op">(</span></span>
<span>  <span class="va">dbName</span>,</span>
<span>  <span class="va">echoes</span>,</span>
<span>  <span class="va">classSelection</span>,</span>
<span>  <span class="va">altitudeRange</span>,</span>
<span>  <span class="va">altitudeBinSize</span>,</span>
<span>  <span class="va">timeRange</span>,</span>
<span>  <span class="va">timeBinDuration_sec</span>,</span>
<span>  <span class="va">timeZone</span>,</span>
<span>  <span class="va">sunriseSunset</span>,</span>
<span>  sunOrCivil <span class="op">=</span> <span class="st">"civil"</span>,</span>
<span>  crepuscule <span class="op">=</span> <span class="st">"nauticalSolar"</span>,</span>
<span>  <span class="va">protocolData</span>,</span>
<span>  <span class="va">visibilityData</span>,</span>
<span>  manualBlindTimes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  saveBlindTimes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  blindTimesOutputDir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  blindTimeAsMtrZero <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  propObsTimeCutoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  computePerDayNight <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  computePerDayCrepusculeNight <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  computeAltitudeDistribution <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-dbname">dbName<a class="anchor" aria-label="anchor" href="#arg-dbname"></a></dt>
<dd><p>Character string, containing the name of the database you are
processing</p></dd>


<dt id="arg-echoes">echoes<a class="anchor" aria-label="anchor" href="#arg-echoes"></a></dt>
<dd><p>dataframe with the echo data from the data list created by the
function ‘extractDBData’ or a subset of it created by the function
‘filterEchoData’.</p></dd>


<dt id="arg-classselection">classSelection<a class="anchor" aria-label="anchor" href="#arg-classselection"></a></dt>
<dd><p>character string vector with all classes which should
be used to calculate the density. The density and number of Echoes will be calculated
for each class as well as for all classes together.</p></dd>


<dt id="arg-altituderange">altitudeRange<a class="anchor" aria-label="anchor" href="#arg-altituderange"></a></dt>
<dd><p>numeric vector of length 2 with the start and end of the
altitude range in meter a.g.l.</p></dd>


<dt id="arg-altitudebinsize">altitudeBinSize<a class="anchor" aria-label="anchor" href="#arg-altitudebinsize"></a></dt>
<dd><p>numeric, size of the altitude bins in meter.</p></dd>


<dt id="arg-timerange">timeRange<a class="anchor" aria-label="anchor" href="#arg-timerange"></a></dt>
<dd><p>Character vector of length 2, with start and end of time
range, formatted as "%Y-%m-%d %H:%M"</p></dd>


<dt id="arg-timebinduration-sec">timeBinDuration_sec<a class="anchor" aria-label="anchor" href="#arg-timebinduration-sec"></a></dt>
<dd><p>duration of timeBins in seconds (numeric). for
values &lt;= 0 a duration of 1 hour will be set</p></dd>


<dt id="arg-timezone">timeZone<a class="anchor" aria-label="anchor" href="#arg-timezone"></a></dt>
<dd><p>time zone in which the time bins should be created as string,
e.g. "Etc/GMT0"</p></dd>


<dt id="arg-sunrisesunset">sunriseSunset<a class="anchor" aria-label="anchor" href="#arg-sunrisesunset"></a></dt>
<dd><p>dataframe with sunrise/sunset, and civil and nautical
dawn/dusk. Computed with the function 'twilight'.</p></dd>


<dt id="arg-sunorcivil">sunOrCivil<a class="anchor" aria-label="anchor" href="#arg-sunorcivil"></a></dt>
<dd><p>sunrise/sunset or civil dawn/dusk used to split day and
night. Supported values: "sun" or "civil". Default: "civil"</p></dd>


<dt id="arg-crepuscule">crepuscule<a class="anchor" aria-label="anchor" href="#arg-crepuscule"></a></dt>
<dd><p>optional character variable, Set to “nauticalSolar” to use
the time between nautical dusk/dawn and sunrise/sunset times to define the
crepuscular period, or to "nauticalCivil" to use the time between nautical
and civil dusk/dawn to define the crepuscular period, or to "civilSolar" to use
the time between civil dusk/dawn and sunrise/sunset times to define the
crepuscular period. Default is "nauticalSolar".</p></dd>


<dt id="arg-protocoldata">protocolData<a class="anchor" aria-label="anchor" href="#arg-protocoldata"></a></dt>
<dd><p>dataframe with the protocol data from the data list
created by the function <code>extractDBData</code> or a subset of it created by the
function <code>filterProtocolData</code>.</p></dd>


<dt id="arg-visibilitydata">visibilityData<a class="anchor" aria-label="anchor" href="#arg-visibilitydata"></a></dt>
<dd><p>dataframe with the visibility data from the data list
created by the function ‘extractDBData’.</p></dd>


<dt id="arg-manualblindtimes">manualBlindTimes<a class="anchor" aria-label="anchor" href="#arg-manualblindtimes"></a></dt>
<dd><p>dataframe with the manual blind times created by the
function <code>loadManualBlindTimes</code>.</p></dd>


<dt id="arg-saveblindtimes">saveBlindTimes<a class="anchor" aria-label="anchor" href="#arg-saveblindtimes"></a></dt>
<dd><p>Logical, determines whether to save the blind times to
a file. Default: False.</p></dd>


<dt id="arg-blindtimesoutputdir">blindTimesOutputDir<a class="anchor" aria-label="anchor" href="#arg-blindtimesoutputdir"></a></dt>
<dd><p>Character string containing the path to save the
blind times to. Default: 'your-working-directory'</p></dd>


<dt id="arg-blindtimeasmtrzero">blindTimeAsMtrZero<a class="anchor" aria-label="anchor" href="#arg-blindtimeasmtrzero"></a></dt>
<dd><p>character string vector with the blind time types
which should be treated as observation time with MTR zero.</p></dd>


<dt id="arg-propobstimecutoff">propObsTimeCutoff<a class="anchor" aria-label="anchor" href="#arg-propobstimecutoff"></a></dt>
<dd><p>numeric between 0 and 1. If the density is computed per
day and night, time bins with a proportional observation time smaller than
propObsTimeCutoff are ignored when combining the time bins. If the density is
computed for each time bin, the parameter is ignored.</p></dd>


<dt id="arg-computeperdaynight">computePerDayNight<a class="anchor" aria-label="anchor" href="#arg-computeperdaynight"></a></dt>
<dd><p>logical, TRUE: density is computed per day and night.
The time bins of each day and night will be combined and the mean density is
computed for each day and night. The spread (first and third Quartile) for
each day and night are also computed. The spread is dependent on the chosen
time bin duration/amount of time bins; When FALSE: density is computed for each
time bin. This option computes the density for each time bin defined in the time
bin dataframe. The time bins that were split due to sunrise/sunset during the
time bin will be combined to one bin.</p></dd>


<dt id="arg-computeperdaycrepusculenight">computePerDayCrepusculeNight<a class="anchor" aria-label="anchor" href="#arg-computeperdaycrepusculenight"></a></dt>
<dd><p>logical, TRUE: density is computed per
crepusculeMorning, day, crepusculeEvening, and night. The time bins of each
of these diel phases will be combined and the mean density is computed for each
phase. The spread (first and third Quartile) for each phase is also computed.
The spread is dependent on the chosen time bin duration/amount of time bins;
When FALSE: density is computed for each time bin. This option computes the density
for each time bin defined in the time bin dataframe. The time bins that were
split due to sunrise/sunset during the time bin will be combined to one bin.
Default = FALSE.</p></dd>


<dt id="arg-computealtitudedistribution">computeAltitudeDistribution<a class="anchor" aria-label="anchor" href="#arg-computealtitudedistribution"></a></dt>
<dd><p>logical, TRUE: compute the mean height and
altitude distribution of density for the pre-defined quantiles 0.05, 0.25, 0.5,
0.75, 0.95</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Density</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Birgen Haest, <a href="mailto:birgen.haest@vogelwarte.ch">birgen.haest@vogelwarte.ch</a>;
Fabian Hertner, <a href="mailto:fabian.hertner@swiss-birdradar.com">fabian.hertner@swiss-birdradar.com</a>;
Baptiste Schmid, <a href="mailto:baptiste.schmid@vogelwarte.ch">baptiste.schmid@vogelwarte.ch</a>;</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>

    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Birgen Haest, Fabian Hertner.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

